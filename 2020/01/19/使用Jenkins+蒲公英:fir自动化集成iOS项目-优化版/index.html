<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>使用Jenkins+fir/蒲公英持续集成iOS项目(优化版) | Zephyr's Capsule</title><meta name="keywords" content="Jenkins,fir,蒲公英,profile,ad-hoc,iOS,持续集成,自动化打包"><meta name="author" content="Zephyr"><meta name="copyright" content="Zephyr"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言在持续集成领域，Jenkins绝对是一个神兵利器，它的插件库非常丰富，我们可以使用它代替执行很多工作中常见的繁琐重复的工作，减少我们在开发之外的不必要的时间花费，从而提高我们的开发效率。在iOS开发中，最常见的就是自动化打包。 我在最初开始接触使用Jenkins的过程中，参考了大量的Jenkins的安装使用教程，发现各有优势，但其中也有很多坑和不合理的地方。通过自己大量的使用、研究和优化，总结">
<meta property="og:type" content="article">
<meta property="og:title" content="使用Jenkins+fir&#x2F;蒲公英持续集成iOS项目(优化版)">
<meta property="og:url" content="http://anye3210.github.io/2020/01/19/%E4%BD%BF%E7%94%A8Jenkins+%E8%92%B2%E5%85%AC%E8%8B%B1:fir%E8%87%AA%E5%8A%A8%E5%8C%96%E9%9B%86%E6%88%90iOS%E9%A1%B9%E7%9B%AE-%E4%BC%98%E5%8C%96%E7%89%88/index.html">
<meta property="og:site_name" content="Zephyr&#39;s Capsule">
<meta property="og:description" content="前言在持续集成领域，Jenkins绝对是一个神兵利器，它的插件库非常丰富，我们可以使用它代替执行很多工作中常见的繁琐重复的工作，减少我们在开发之外的不必要的时间花费，从而提高我们的开发效率。在iOS开发中，最常见的就是自动化打包。 我在最初开始接触使用Jenkins的过程中，参考了大量的Jenkins的安装使用教程，发现各有优势，但其中也有很多坑和不合理的地方。通过自己大量的使用、研究和优化，总结">
<meta property="og:locale">
<meta property="og:image" content="https://lh3.googleusercontent.com/proxy/tbdCWuZLJGsSxhsFRl7KfUZvmNaaVGGOxltCn_OhjF98Vy1K4HtEcU_w2LSn5ZgBI7cAwDybM6mvCQfAYQgqzQFjwYjZ36EmZK8ogLncVLhtxXd45B2MB9wmdSsyUZHHlWd6oY5NUw">
<meta property="article:published_time" content="2020-01-19T15:47:32.000Z">
<meta property="article:modified_time" content="2021-08-22T07:31:16.226Z">
<meta property="article:author" content="Zephyr">
<meta property="article:tag" content="Jenkins">
<meta property="article:tag" content="fir">
<meta property="article:tag" content="蒲公英">
<meta property="article:tag" content="profile">
<meta property="article:tag" content="ad-hoc">
<meta property="article:tag" content="iOS">
<meta property="article:tag" content="持续集成">
<meta property="article:tag" content="自动化打包">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lh3.googleusercontent.com/proxy/tbdCWuZLJGsSxhsFRl7KfUZvmNaaVGGOxltCn_OhjF98Vy1K4HtEcU_w2LSn5ZgBI7cAwDybM6mvCQfAYQgqzQFjwYjZ36EmZK8ogLncVLhtxXd45B2MB9wmdSsyUZHHlWd6oY5NUw"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://anye3210.github.io/2020/01/19/%E4%BD%BF%E7%94%A8Jenkins+%E8%92%B2%E5%85%AC%E8%8B%B1:fir%E8%87%AA%E5%8A%A8%E5%8C%96%E9%9B%86%E6%88%90iOS%E9%A1%B9%E7%9B%AE-%E4%BC%98%E5%8C%96%E7%89%88/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '使用Jenkins+fir/蒲公英持续集成iOS项目(优化版)',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-08-22 15:31:16'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Zephyr's Capsule" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">24</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">75</div></a></div></div></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://lh3.googleusercontent.com/proxy/tbdCWuZLJGsSxhsFRl7KfUZvmNaaVGGOxltCn_OhjF98Vy1K4HtEcU_w2LSn5ZgBI7cAwDybM6mvCQfAYQgqzQFjwYjZ36EmZK8ogLncVLhtxXd45B2MB9wmdSsyUZHHlWd6oY5NUw')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Zephyr's Capsule</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">使用Jenkins+fir/蒲公英持续集成iOS项目(优化版)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">Created</span><time datetime="2020-01-19T15:47:32.000Z" title="undefined 2020-01-19 23:47:32">2020-01-19</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="使用Jenkins+fir/蒲公英持续集成iOS项目(优化版)"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在持续集成领域，<strong>Jenkins</strong>绝对是一个神兵利器，它的插件库非常丰富，我们可以使用它代替执行很多工作中常见的繁琐重复的工作，减少我们在开发之外的不必要的时间花费，从而提高我们的开发效率。在iOS开发中，最常见的就是自动化打包。</p>
<p>我在最初开始接触使用<strong>Jenkins</strong>的过程中，参考了大量的<strong>Jenkins</strong>的安装使用教程，发现各有优势，但其中也有很多坑和不合理的地方。通过自己大量的使用、研究和优化，总结了这篇优化版的自动化打包教程。</p>
<p>在安装和使用<strong>Jenkins</strong>的过程中，很多步骤都会有几种方式实现，本文只详细讲解个人认为比较好的方式。</p>
<span id="more"></span>

<h1 id="安装Jenkins"><a href="#安装Jenkins" class="headerlink" title="安装Jenkins"></a>安装Jenkins</h1><p><strong>Jenkins</strong>的安装分为两类，一种是安装包安装，一种是使用<strong>Homebrew</strong>安装，推荐使用<strong>Homebrew</strong>进行安装。</p>
<p>安装前请确保系统已经安装了<strong>Homebrew</strong>，否则请前往<a target="_blank" rel="noopener" href="https://brew.sh/index_zh-cn">Homebrew官网</a>按照提示自行安装。</p>
<p>打开终端安装<strong>Jenkins</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install jenkins</span><br></pre></td></tr></table></figure>

<p>下面安装完成后日常使用经常会用到的命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew services start jenkins // 启动Jenkins</span><br><span class="line">brew services restart jenkins // 重启Jenkins</span><br><span class="line">brew services stop jenkins // 停用Jenkins</span><br></pre></td></tr></table></figure>

<p>上述命令执行后<strong>Jenkins</strong>都是在后台运行，如果不想使用后台运行<strong>Jenkins</strong>服务，可以直接在终端输入<code>jenkins</code>以日志的方式运行。</p>
<p><strong>Jenkins</strong>默认会使用8080端口，可以使用以下命令自己更换（不建议）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">default write /Library/Preferences/org.jenkins-ci httpPort xxxx // xxxx为更换后的端口号</span><br></pre></td></tr></table></figure>

<h1 id="配置Jenkins"><a href="#配置Jenkins" class="headerlink" title="配置Jenkins"></a>配置Jenkins</h1><h2 id="初始化配置"><a href="#初始化配置" class="headerlink" title="初始化配置"></a>初始化配置</h2><p>用浏览器打开<code>http://localhost:8080</code>，首次进入需要输入密码以解锁<strong>Jenkins</strong></p>
<p><img src="https://i.loli.net/2020/01/19/c3R7Lk65zaowYnb.png" alt="unlock_jenkins.png"></p>
<p>使用<code>cat</code>命令按页面上的提示的路径在终端输入以下命令在终端打印密码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /Users/用户名/.jenkins/secrets/initialAdminPassword</span><br></pre></td></tr></table></figure>

<p>输入密码登录成功后点击<strong>Install suggested plugins</strong>按钮安装插件，等待安装完成。</p>
<p><img src="https://i.loli.net/2020/01/19/6EReO4X7CYNoIGq.png" alt="install_plugins.png"></p>
<p>部分插件可能会安装失败，可以选择现点<strong>Retry</strong>重新安装，也可以选择继续，后面再来安装这些安装失败的插件。</p>
<p><img src="https://i.loli.net/2020/01/19/JMS5GK3hTC1XiI6.png" alt="retry_plugins.png"></p>
<p>点继续之后会进入到创建用户页面，建议在这里创建用户。如果不创建每次进入都要输入初始密码，比较麻烦。</p>
<p><img src="https://i.loli.net/2020/01/19/CRvLnT2zk46lJIw.png" alt="create_user.png"></p>
<p>点击保存会显示以下界面，点击<strong>Start using jenkins</strong>按钮进入到管理页面。</p>
<p><img src="https://i.loli.net/2020/01/19/C3hOWlXbHMsc6Ke.jpg" alt="jenkins_is_ready.jpg"></p>
<h2 id="配置iOS自动化打包"><a href="#配置iOS自动化打包" class="headerlink" title="配置iOS自动化打包"></a>配置iOS自动化打包</h2><h3 id="插件安装"><a href="#插件安装" class="headerlink" title="插件安装"></a>插件安装</h3><p>自动化打包需要安装以下插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Keychains and Provisioning Profiles Management</span><br><span class="line">CocoaPods Jenkins Integration</span><br><span class="line">Build Timeout</span><br><span class="line">SSH Agent Plugin</span><br><span class="line">WorkSpace Cleanup Plugin</span><br></pre></td></tr></table></figure>

<p>选择<code>Manage Jenkins-&gt;Manage Plugins-&gt;已安装</code>，在右上角过滤里面搜索，查看插件是否已安装，如果没有需要在可选插件里搜索并安装</p>
<p><img src="https://i.loli.net/2020/01/19/SOVHZnwxYXtgi9U.png" alt="manage_plugins.png"><br><img src="https://i.loli.net/2020/01/19/R3MpSkzYDis98hd.png" alt="installed_plugins.png"></p>
<p>如果想打包完成后自动发送邮件，需要安装<code>Email Extension Plugin</code>插件。</p>
<p>如果想将<strong>Jenkins</strong>的显示语言更改为中文，需要安装<code>Localization: Chinese (Simplified)</code>插件，重启之后生效。</p>
<h3 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><p>iOS自动化打包需要使用到<code>cocoapods</code>、<code>XCPretty</code>、<code>xcbuild</code>等工具，如果想直接在脚本中使用不带路径的相关命令，就需要先添加全局变量。</p>
<p>打开<code>Manage Jenkins-&gt;Configure System</code></p>
<p><img src="https://i.loli.net/2020/01/19/CZzJu3MsWGOLB1f.png" alt="configure_system.png"></p>
<p>页面滚动到全局属性一栏，添加以下几个键值对，前面三个为全局语言编码，最后一个为全局路径，它的值可以通过在终端输入<code>$PATH</code>获取到</p>
<p><img src="https://i.loli.net/2020/01/19/jhKJmwDBl1ZRsbg.png" alt="environment_variables.png"></p>
<h3 id="证书和描述文件配置"><a href="#证书和描述文件配置" class="headerlink" title="证书和描述文件配置"></a>证书和描述文件配置</h3><p>接下来我们需要上传钥匙串和描述文件，在上传之前需要一些准备工作。</p>
<p>打开电脑的<code>钥匙串访问</code>应用，进入后鼠标悬停在<code>登录</code>按钮上方会自动显示登录钥匙串的路径</p>
<p><img src="https://i.loli.net/2020/01/19/aOYTdszE74CSBQH.jpg" alt="login_keychain.jpg"></p>
<p>打开终端，输入以下命令将钥匙串从上图所示的路径中复制出来存放到桌面并将文件后缀里的<code>-db</code>去掉（<strong>Jenkins</strong>上传钥匙串时文件必须以.keychain结尾）。这样，钥匙串就准备好了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /Users/用户名/Library/Keychains/login.keychain-db ~/Desktop/login.keychain </span><br></pre></td></tr></table></figure>
<p>描述文件如果有就用现成的，如果没有，就上开发者网站生成和下载一个，具体流程如果不了解可以自行上网搜索，这里就赘述了。（注意：描述文件上传前先将iOS工程的证书管理设置为手动模式，将描述文件导入进入看一下是否能用，避免后面发现不能用来回折腾）</p>
<p>接下来就是正式上传。</p>
<p>打开<code>Manage Jenkins-&gt;Keychains and Provisioning Profiles Management</code></p>
<p><img src="https://i.loli.net/2020/01/19/PsW78fEQVeZ3ltb.png" alt="keychains_and_provising_profiles_management.png"></p>
<p>点击<code>选择文件</code>，选择刚准备好的<code>login.keychain</code>，然后点<code>Upload</code></p>
<p><img src="https://i.loli.net/2020/01/19/xz7eUHBNSyTID5P.png" alt="upload_keychain.png"></p>
<p>钥匙串上传完成成显示如下</p>
<p><img src="https://i.loli.net/2020/01/19/wbVNOnaFou9pLP1.png" alt="login_keychain_uploaded.png"></p>
<p>点击下方的<code>Add Code Signing Identity</code>将项目相关的证书名称添加进去，这个名称点击该证书在钥匙串应用上方就会有显示，复制粘贴即可</p>
<p><img src="https://i.loli.net/2020/01/19/eBogLtkhVlJFTON.png" alt="cert_name.png"></p>
<p>添加完成后效果如下</p>
<p><img src="https://i.loli.net/2020/01/19/hwBlK5TG9mQ3gzE.png" alt="finish_add_cert_name.png"></p>
<p>接下来用同样的方法上传证书的描述文件，并在<code>Provisioning Profiles Directory Path</code>一栏填写描述文件地址<code>/Users/用户名/Library/MobileDevice/Provisioning Profiles</code>，完成后如下图所示</p>
<p><img src="https://i.loli.net/2020/01/19/L83Un2lVQtDWbNr.png" alt="finish_upload_provising_profiles.png"></p>
<p>点击保存，证书和描述文件就完成了。</p>
<h3 id="新建和配置自动化打包任务"><a href="#新建和配置自动化打包任务" class="headerlink" title="新建和配置自动化打包任务"></a>新建和配置自动化打包任务</h3><p>在<strong>Jenkins</strong>首页点击<code>新建Item</code></p>
<p><img src="https://i.loli.net/2020/01/19/N4X63MxcmdWYwPr.png" alt=" new_item.png"></p>
<p>为任务起一个名称，选择下面的<code>Freestyle project</code>，然后点确定</p>
<p><img src="https://i.loli.net/2020/01/19/YWdTLEur68j92J3.png" alt="freestyle_project.png"></p>
<p>这时候会自动跳转到项目配置界面，在这个界面需要配置三个地方：</p>
<ul>
<li>源码管理</li>
<li>构建环境里的<code>Mobile Provisioning Profiles</code></li>
<li>构建里的运行脚本</li>
</ul>
<p>首先是源码管理部分，这里有两种方式进行管理，一种是Git，一种是Subversion，这里主要讲解Git方式。</p>
<p>在<code>Repository URL</code>栏填入项目源码的仓库地址，在下方<code>Credentials</code>栏的凭据选择默认是空的，选择添加，添加完凭据就可以选择了。指定分支栏填入相应分支，默认为<code>master</code>分支。</p>
<p><img src="https://i.loli.net/2020/01/19/JMvsed64IQpO8tV.png" alt="repositories.png"></p>
<p>构建环境部分配置比较简单，勾选<code>Mobile Provisioning Profiles</code>选项并选择之前上传的描述文件即可。</p>
<p><img src="https://i.loli.net/2020/01/19/tP8gpMDXV2nfFrH.png" alt="mobile_provisioning_profiles.png"></p>
<p>接下来就是最重要的构建脚本了。</p>
<p>在添加脚本以前，需要先把打包需要的<code>ExportOptions.plist</code>准备好，这个文件需要自己手动打包一次，在导出<code>IPA</code>文件后在与<code>.ipa</code>同在的文件夹中可以找到。可以把它放在源码中，也可以放在电脑的某个位置，这个路径在下面的打包脚本中需要用到。（<strong>注意：如果后期修改了打包方式、证书或者描述文件，一定要同步修改该plist文件对应的值，否则打包会报错</strong>）</p>
<p>准备好<code>.plist</code>文件之后就可以添加脚本了。</p>
<p>在<code>构建</code>中的<code>增加构建步骤</code>里选择<code>Execute shell</code>添加构建脚本。</p>
<p><img src="https://i.loli.net/2020/01/19/2bjC9xcAmvGp7gP.png" alt="execute_shell.png"></p>
<p>在脚本输入框添加以下内容，这个脚本是打包脚本，这个版本已经优化并适配最新版本的<code>XCode 11</code>，使用时需要将里面的xxx替换为你自己项目的名称或用户名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">cd $WORKSPACE</span><br><span class="line"></span><br><span class="line"># 计时</span><br><span class="line">SECONDS=0</span><br><span class="line"># 是否编译工作空间 (例:若是用Cocopods管理的.xcworkspace项目,赋值true;用Xcode默认创建的.xcodeproj,赋值false)</span><br><span class="line">is_workspace=&quot;true&quot;</span><br><span class="line"></span><br><span class="line"># 指定项目的scheme名称</span><br><span class="line"># (注意: 因为shell定义变量时,=号两边不能留空格,若scheme_name与info_plist_name有空格,脚本运行会失败)</span><br><span class="line">scheme_name=&quot;xxx&quot;</span><br><span class="line"></span><br><span class="line"># 工程中Target对应的配置plist文件名称, Xcode默认的配置文件为Info.plist</span><br><span class="line">info_plist_name=&quot;Info&quot;</span><br><span class="line"></span><br><span class="line"># 指定要打包编译的方式 : Release,Debug...</span><br><span class="line">build_configuration=&quot;Release&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ===============================自动打包部分(如果Info.plist文件位置有变动需要修改&quot;info_plist_path&quot;)============================= #</span><br><span class="line"></span><br><span class="line"># 导出ipa所需要的plist文件路径，这个路径为之前存放ExportOptions.plist的路径，如果放在源码工程文件的根目录，直接填文件名即可。</span><br><span class="line">ExportOptionsPlistPath=&quot;/Users/xxx/ExportOptions.plist&quot;</span><br><span class="line"></span><br><span class="line"># 获取项目名称</span><br><span class="line">project_name=`find . -name *.xcodeproj | awk -F &quot;[/.]&quot; &#x27;&#123;print $(NF-1)&#125;&#x27;`</span><br><span class="line"></span><br><span class="line"># 获取Info.plist路径，拿到版本号, 编译版本号, BundleID</span><br><span class="line">info_plist_path=&quot;$project_name/$info_plist_name.plist&quot;</span><br><span class="line">bundle_version=`/usr/libexec/PlistBuddy -c &quot;Print CFBundleShortVersionString&quot; $info_plist_path`</span><br><span class="line">bundle_build_version=`/usr/libexec/PlistBuddy -c &quot;Print CFBundleVersion&quot; $info_plist_path`</span><br><span class="line">bundle_identifier=`/usr/libexec/PlistBuddy -c &quot;Print CFBundleIdentifier&quot; $info_plist_path`</span><br><span class="line"></span><br><span class="line">#时间戳</span><br><span class="line">formattedDate=$(date &quot;+%Y-%m-%d#%H:%M:%S&quot;)</span><br><span class="line"></span><br><span class="line"># 指定输出ipa名称 : scheme_name + bundle_version</span><br><span class="line">ipa_name=&quot;$scheme_name$formattedDate&quot;</span><br><span class="line"></span><br><span class="line"># 删除旧.xcarchive文件</span><br><span class="line">rm -rf ~/Documents/IPA/$scheme_name-IPA/$scheme_name.xcarchive</span><br><span class="line"></span><br><span class="line"># 指定输出ipa路径</span><br><span class="line">export_path=~/Documents/IPA/$scheme_name/$ipa_name</span><br><span class="line"></span><br><span class="line"># 指定输出归档文件地址</span><br><span class="line">export_archive_path=&quot;$export_path/$ipa_name.xcarchive&quot;</span><br><span class="line"></span><br><span class="line"># 指定输出ipa地址</span><br><span class="line">export_ipa_path=&quot;$export_path&quot;</span><br><span class="line"></span><br><span class="line"># 四种打包方式: AdHoc、AppStore、Enterprise和Development</span><br><span class="line">method=&quot;AdHoc&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;\033[*************************  开始构建项目  *************************]\033&quot;</span><br><span class="line"># 指定输出文件目录不存在则创建</span><br><span class="line">if [ -d &quot;$export_path&quot; ] ; then</span><br><span class="line">echo $export_path</span><br><span class="line">else</span><br><span class="line">mkdir -pv $export_path</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># 判断编译的项目类型是workspace还是project</span><br><span class="line">if $is_workspace ; then</span><br><span class="line"></span><br><span class="line"># 安装第三方库</span><br><span class="line">pod install --verbose --no-repo-update</span><br><span class="line"></span><br><span class="line"># 编译前清理工程</span><br><span class="line">xcodebuild clean -workspace $&#123;project_name&#125;.xcworkspace \</span><br><span class="line">                 -scheme $&#123;scheme_name&#125; \</span><br><span class="line">                 -configuration $&#123;build_configuration&#125;</span><br><span class="line"></span><br><span class="line">xcodebuild archive -workspace $&#123;project_name&#125;.xcworkspace \</span><br><span class="line">                   -scheme $&#123;scheme_name&#125; \</span><br><span class="line">                   -configuration $&#123;build_configuration&#125; \</span><br><span class="line">                   -archivePath $&#123;export_archive_path&#125; \</span><br><span class="line">                   | xcpretty</span><br><span class="line"></span><br><span class="line">else</span><br><span class="line"># 编译前清理工程</span><br><span class="line">xcodebuild clean -project $&#123;project_name&#125;.xcodeproj \</span><br><span class="line">                 -scheme $&#123;scheme_name&#125; \</span><br><span class="line">                 -configuration $&#123;build_configuration&#125;</span><br><span class="line"></span><br><span class="line">xcodebuild archive -project $&#123;project_name&#125;.xcodeproj \</span><br><span class="line">                   -scheme $&#123;scheme_name&#125; \</span><br><span class="line">                   -configuration $&#123;build_configuration&#125; \</span><br><span class="line">                   -archivePath $&#123;export_archive_path&#125; \</span><br><span class="line">                   | xcpretty</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">#  检查是否构建成功</span><br><span class="line">#  xcarchive 实际是一个文件夹不是一个文件所以使用 -d 判断</span><br><span class="line">if [ -d &quot;$export_archive_path&quot; ] ; then</span><br><span class="line">echo &quot;\033[项目构建成功] \033&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;\033[项目构建失败] \033&quot;</span><br><span class="line">exit 1</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo &quot;\033[*************************  开始导出ipa文件  *************************]\033&quot;</span><br><span class="line">xcodebuild  -exportArchive \</span><br><span class="line">            -archivePath $&#123;export_archive_path&#125; \</span><br><span class="line">            -exportPath $&#123;export_ipa_path&#125; \</span><br><span class="line">            -exportOptionsPlist $&#123;ExportOptionsPlistPath&#125; \</span><br><span class="line">            -allowProvisioningUpdates \</span><br><span class="line">            -allowProvisioningDeviceRegistration \</span><br><span class="line">            CODE_SIGN_IDENTITY=&quot;iPhone Distribution: xxx (xxx)&quot;</span><br><span class="line"></span><br><span class="line"># 修改ipa文件名称</span><br><span class="line">mv $export_ipa_path/$scheme_name.ipa $export_ipa_path/$ipa_name.ipa</span><br><span class="line"></span><br><span class="line"># 检查文件是否存在</span><br><span class="line">if [ -f &quot;$export_ipa_path/$ipa_name.ipa&quot; ] ; then</span><br><span class="line">echo &quot;\033[导出 $&#123;ipa_name&#125;.ipa 包成功]\033&quot;</span><br><span class="line">open $export_path</span><br><span class="line">else</span><br><span class="line">echo &quot;\033[导出 $&#123;ipa_name&#125;.ipa 包失败]\033&quot;</span><br><span class="line"></span><br><span class="line">exit 1</span><br><span class="line">fi</span><br><span class="line"># 输出打包总用时</span><br><span class="line">echo &quot;\033[打包总用时: $&#123;SECONDS&#125;s]\033&quot;</span><br></pre></td></tr></table></figure>

<p>接下来是上传脚本，将上传脚本添加到上面打包脚本末尾就可以在打包完成后自动上传。</p>
<p>上传到蒲公英的脚本如下，请自行替换蒲公英<code>API Key</code>和<code>User Key</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># ============================上传到蒲公英部分(请自行替换蒲公英API Key和User Key)================================ #</span><br><span class="line"></span><br><span class="line">echo &quot;\033[*************************  上传到蒲公英  *************************]\033&quot;</span><br><span class="line"># open $export_path</span><br><span class="line"></span><br><span class="line"># 蒲公英上的User Key</span><br><span class="line">uKey=&quot;xxx&quot;</span><br><span class="line"> </span><br><span class="line"># 蒲公英上的API Key</span><br><span class="line">apiKey=&quot;xxx&quot;</span><br><span class="line"> </span><br><span class="line"># 要上传的ipa文件路径</span><br><span class="line">IPA_PATH=&quot;$export_ipa_path/$ipa_name.ipa&quot;</span><br><span class="line"> </span><br><span class="line"># 执行上传至蒲公英的命令</span><br><span class="line">echo &quot;[************************* uploading *************************]&quot;</span><br><span class="line"></span><br><span class="line">curl -F &quot;file=@$&#123;IPA_PATH&#125;&quot; -F &quot;uKey=$&#123;uKey&#125;&quot; -F &quot;_api_key=$&#123;apiKey&#125;&quot; http://www.pgyer.com/apiv1/app/upload</span><br></pre></td></tr></table></figure>

<p>上传到<code>fir</code>的脚本如下，请自行替换<code>fir</code>的<code>API Token</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># ============================上传到fir.im部分(请自行替换fir的API Token)================================ #</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"># 执行上传至fir.im的命令</span><br><span class="line">echo &quot;[************************* uploading *************************]&quot;</span><br><span class="line"></span><br><span class="line"># fir.im上的API Token</span><br><span class="line">API_TOKEN=&quot;xxx&quot;</span><br><span class="line"></span><br><span class="line"># 要上传的ipa文件路径</span><br><span class="line">IPA_PATH=&quot;$export_ipa_path/$ipa_name.ipa&quot;</span><br><span class="line"></span><br><span class="line">#上传到fir</span><br><span class="line">fir publish $IPA_PATH -T $API_TOKEN</span><br></pre></td></tr></table></figure>

<p>点击保存并退出，在项目面板中点击<code>Build Now</code>就会执行自动打包，点击下面的Build编号，进入构建面板后点击<code>控制台输入</code>可以看到实时的日志，如果打包失败也可以看到失败原因。打包成功会显示如下：</p>
<p><img src="https://i.loli.net/2020/01/19/Z7PLSdcMUnARFwv.png" alt="package_success.png"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Zephyr</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://anye3210.github.io/2020/01/19/%E4%BD%BF%E7%94%A8Jenkins+%E8%92%B2%E5%85%AC%E8%8B%B1:fir%E8%87%AA%E5%8A%A8%E5%8C%96%E9%9B%86%E6%88%90iOS%E9%A1%B9%E7%9B%AE-%E4%BC%98%E5%8C%96%E7%89%88/">http://anye3210.github.io/2020/01/19/%E4%BD%BF%E7%94%A8Jenkins+%E8%92%B2%E5%85%AC%E8%8B%B1:fir%E8%87%AA%E5%8A%A8%E5%8C%96%E9%9B%86%E6%88%90iOS%E9%A1%B9%E7%9B%AE-%E4%BC%98%E5%8C%96%E7%89%88/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Jenkins/">Jenkins</a><a class="post-meta__tags" href="/tags/fir/">fir</a><a class="post-meta__tags" href="/tags/%E8%92%B2%E5%85%AC%E8%8B%B1/">蒲公英</a><a class="post-meta__tags" href="/tags/profile/">profile</a><a class="post-meta__tags" href="/tags/ad-hoc/">ad-hoc</a><a class="post-meta__tags" href="/tags/iOS/">iOS</a><a class="post-meta__tags" href="/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/">持续集成</a><a class="post-meta__tags" href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85/">自动化打包</a></div><div class="post_share"><div class="social-share" data-image="https://lh3.googleusercontent.com/proxy/tbdCWuZLJGsSxhsFRl7KfUZvmNaaVGGOxltCn_OhjF98Vy1K4HtEcU_w2LSn5ZgBI7cAwDybM6mvCQfAYQgqzQFjwYjZ36EmZK8ogLncVLhtxXd45B2MB9wmdSsyUZHHlWd6oY5NUw" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/08/03/%E3%80%90React-Native%E3%80%91AES%E5%8A%A0%E5%AF%86/"><img class="prev-cover" src="https://documents.trendmicro.com/images/TEx/articles/free-encryption.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">【React Native】AES+Base64加密</div></div></a></div><div class="next-post pull-right"><a href="/2020/01/13/%E4%BD%BF%E7%94%A8SonarQube%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5OC%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/"><img class="next-cover" src="https://www.loginradius.com/blog/async/static/d565ea49a97bb0cce8f1937aa87e64b7/03979/sonarqube.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">使用SonarQube静态检查OC代码质量</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2016/12/21/正则表达式/" title="正则表达式"><img class="cover" src="https://mediumcn.com/assets/images/default/regex_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2016-12-21</div><div class="title">正则表达式</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Zephyr</div><div class="author-info__description">不断前行</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">24</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">75</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zephyrw"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">This is zephyr's capsule</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Jenkins"><span class="toc-number">2.</span> <span class="toc-text">安装Jenkins</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEJenkins"><span class="toc-number">3.</span> <span class="toc-text">配置Jenkins</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-number">3.1.</span> <span class="toc-text">初始化配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEiOS%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85"><span class="toc-number">3.2.</span> <span class="toc-text">配置iOS自动化打包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-number">3.2.1.</span> <span class="toc-text">插件安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.2.</span> <span class="toc-text">环境变量配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%81%E4%B9%A6%E5%92%8C%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.3.</span> <span class="toc-text">证书和描述文件配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E5%92%8C%E9%85%8D%E7%BD%AE%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85%E4%BB%BB%E5%8A%A1"><span class="toc-number">3.2.4.</span> <span class="toc-text">新建和配置自动化打包任务</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/08/22/%E8%AF%A6%E8%A7%A3-Netty/" title="详解 Netty"><img src="https://i.loli.net/2021/08/22/aP4C5w82fmFhJEz.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="详解 Netty"/></a><div class="content"><a class="title" href="/2021/08/22/%E8%AF%A6%E8%A7%A3-Netty/" title="详解 Netty">详解 Netty</a><time datetime="2021-08-22T09:26:09.000Z" title="Created 2021-08-22 17:26:09">2021-08-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/09/%E5%A4%9A%E5%9B%BE%E8%AF%A6%E8%A7%A3AQS/" title="多图详解AQS"><img src="https://i.loli.net/2021/08/09/xgLhv4a6AZTDUEV.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="多图详解AQS"/></a><div class="content"><a class="title" href="/2021/08/09/%E5%A4%9A%E5%9B%BE%E8%AF%A6%E8%A7%A3AQS/" title="多图详解AQS">多图详解AQS</a><time datetime="2021-08-08T16:31:01.000Z" title="Created 2021-08-09 00:31:01">2021-08-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/02/%E8%AF%A6%E8%A7%A3Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/" title="详解Java类加载过程"><img src="https://i.loli.net/2021/08/02/265OIqCLtMSwJkY.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="详解Java类加载过程"/></a><div class="content"><a class="title" href="/2021/08/02/%E8%AF%A6%E8%A7%A3Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/" title="详解Java类加载过程">详解Java类加载过程</a><time datetime="2021-08-02T14:53:13.000Z" title="Created 2021-08-02 22:53:13">2021-08-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/31/JMM-Java-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/" title="JMM - Java 内存模型"><img src="https://img-blog.csdnimg.cn/5057e1fd41aa4749b0f29a4d2b2d44e3.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2FueWUzMjEwMA==,size_8,color_FFFFFF,t_70" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JMM - Java 内存模型"/></a><div class="content"><a class="title" href="/2021/07/31/JMM-Java-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/" title="JMM - Java 内存模型">JMM - Java 内存模型</a><time datetime="2021-07-31T14:57:14.000Z" title="Created 2021-07-31 22:57:14">2021-07-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/15/%E3%80%90React-Native%E8%BF%9B%E9%98%B6%E3%80%91React-Native-Reanimated%E7%9A%84%E4%BD%BF%E7%94%A8/" title="【React Native进阶】React Native Reanimated的使用"><img src="https://docs.swmansion.com/react-native-reanimated/docs/animations/easeInOutQuad.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【React Native进阶】React Native Reanimated的使用"/></a><div class="content"><a class="title" href="/2020/12/15/%E3%80%90React-Native%E8%BF%9B%E9%98%B6%E3%80%91React-Native-Reanimated%E7%9A%84%E4%BD%BF%E7%94%A8/" title="【React Native进阶】React Native Reanimated的使用">【React Native进阶】React Native Reanimated的使用</a><time datetime="2020-12-15T15:32:58.000Z" title="Created 2020-12-15 23:32:58">2020-12-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Zephyr</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>