<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>Carthage的使用 | Zephyr&#39;s Capsule</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="iOS, Python, Swift, Objective-C, JavaScript">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Carthage的使用 | Zephyr&#39;s Capsule">
    <meta name="twitter:description" content="iOS, Python, Swift, Objective-C, JavaScript">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Carthage的使用 | Zephyr&#39;s Capsule">
    <meta property="og:description" content="iOS, Python, Swift, Objective-C, JavaScript">

    
    <meta name="author" content="Zephyr">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/avatar-small.png">
    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="Zephyr&#39;s Capsule" href="/atom.xml">
    

    <link rel="canonical" href="http://anye3210.github.io/2016/11/23/Carthage的使用/"/>

    
    <link rel="author" href="https://plus.google.com"/>
    
      
</head>

<body class="home-template no-js">
    <script src="https://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 Zephyr&#39;s Capsule 的主页"><img src="/images/avatar.jpg" width="80" alt="Zephyr&#39;s Capsule logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for Zephyr&#39;s Capsule">Zephyr&#39;s Capsule</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">Stay hungry stay foolish</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">不断前行</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
            
              <li class="navigation__item"><a href="/favourite">收藏</a></li>
            
              <li class="navigation__item"><a href="/favourite/time.html">时光机</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  
  <li class="navigation__item">
    <a href="https://weibo.com/" title="我的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li> 


  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/zephyrw" title="查看我的GitHub主页" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        
        <li class="navigation__item">
            <a href="http://stackoverflow.com/" title="Stack Overflow" target="_blank">
                <i class='social fa fa-stack-overflow'></i>
                <span class="label">Stack Overflow</span>
            </a>
        </li>
        

  <!-- Google Plus -->
  
  <li class="navigation__item">
    <a href="https://plus.google.com" title="Google+" target="_blank">
      <i class='social fa fa-google-plus-square'></i>
      <span class="label">Google+</span>
    </a>
  </li>


<!-- Facebook -->

  <li class="navigation__item">
    <a href="https://www.facebook.com/" title="上Facebook找我" target="_blank">
      <i class='social fa fa-facebook'></i>
      <span class="label">Facebook</span>
    </a>
  </li>

  
<!-- Twitter -->

  <li class="navigation__item">
    <a href="https://twitter.com/" title="上Twitter找我" target="_blank">
      <i class='social fa fa-twitter'></i>
      <span class="label">Twitter</span>
    </a>
  </li>

  

  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-purple"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2016-11-23T13:13:32.000Z" class="post-list__meta--date date">2016-11-23</time> &#8226; <span class="post-meta__tags tags">于&nbsp;
  <a class="tag-link" href="/tags/Cathage/">Cathage</a>, <a class="tag-link" href="/tags/CocoaPods/">CocoaPods</a>, <a class="tag-link" href="/tags/框架管理/">框架管理</a>, <a class="tag-link" href="/tags/第三方库/">第三方库</a>
 </span>
      <span class="page-pv">
      &nbsp;阅读&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>
      </span> 
   
    </div>
    <h1 class="post-title">Carthage的使用</h1>
  </header>

  <section class="post">
    <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Cathage 一直致力于成为给 Cocoa 应用添加框架最简单的方式。<br>它的使用流程如下：</p>
<ol>
<li>创建一个 Cathage ，在里面列出你的项目要使用的第三方框架；</li>
<li>运行 Cathage， Cathage 会获取并创建你列出的所有框架；</li>
<li>把生成的 <code>.frameword</code> 二进制文件拖到你的工程文件中。</li>
</ol>
<p>Cathage 帮你创建第三方依赖、提供二进制的 <code>framework</code> 文件，并且不会改变你的项目架构和创建。 <a id="more"></a>Cathage 在你使用的过程中并不会修改的你工程文件和你的项目设置。</p>
<h2 id="Cathage-与-CocoaPods-的不同"><a href="#Cathage-与-CocoaPods-的不同" class="headerlink" title="Cathage 与 CocoaPods 的不同"></a>Cathage 与 CocoaPods 的不同</h2><p>CocoaPods 是存在已久的 Cocoa 的第三方依赖管理方式，在此基础上为什么还要使用 Cathage ？</p>
<p>首先，CocoaPods 会自动为你的应用与第三方依赖创建和更新一个 Xcode workspace；Carthage 使用 <code>xcodebuild</code> 创建二进制  <code>framework</code> ，添加和使用这此框架是用户自己操作的。CocoaPods 使用上更简单，而 Carthage 更灵活，耦合性更低。</p>
<p>从 CocoaPods 的 README 可以看出它有以下的目标：</p>
<blockquote>
<p>通过创建一个集中式的生态系统使发现和管理第三方框架更便捷。</p>
</blockquote>
<p>相反， Carthage 是一个非集中式的第三方管理工具。它在工程文件中没有集中的列表，这可以大大降低维护的难度，避免集中列表的一些错误导致的编译失败。然而，发现第三方框架也是一个麻烦的事情，用户必须要到 GitHub 的趋势页面去查找或者去类似的网站。</p>
<p>CocoaPods 的工程文件中一定要有 podspec 文件，在 podspec 文件中用户要填写元数据和它创建的方式。Carthage 用 <code>xcodebuild</code> 去创建第三方框架。它不会把你的第三方依赖放在一个单独的 workspace 中去管理，你写的第三方框架一定要包含自己的 Xcode 项目用来描述怎么去生成和使用。</p>
<p>总之，Carthage 的目标就是成为管理第三方框架第简单的工具，它可以在不使用 Xcode 的情况下完成它的任务，也不会让框架作者做额外的工作。但 CocoaPods 也确实提供了很多非常好而且 Carthage 介于成本考虑可能永远也不会有的功能。</p>
<h2 id="安装-Carthage"><a href="#安装-Carthage" class="headerlink" title="安装 Carthage"></a>安装 Carthage</h2><p>安装 Carthage 有以下几种方法：</p>
<ul>
<li>通过安装程序安装：下载并运行 <code>Carthage.pkg</code> ，根据软件提示安装即可；</li>
<li>Homebrew安装：使用 <code>brew install carthage</code> 命令安装(注意：如果你安装过二进制版本的 Carthage，你要先删除 <code>/Library/Frameworks/CarthageKit.framework</code>)；</li>
<li>从GigHub源安装：如果你想安装最新版本(注意最新版可以不太稳定)，直接克隆Carthage 在GigHub上的 master 分支，并运行 <code>make install</code> 即可，仅支持 Xcode 8.0及以上（Swift支持 2.3 版本，现在还不支持 3.0 以上的版本）。</li>
</ul>
<h2 id="为应用添加第三方框架"><a href="#为应用添加第三方框架" class="headerlink" title="为应用添加第三方框架"></a>为应用添加第三方框架</h2><p>如果你安装了 Carthage ，你就可以为你的项目添加第三方框架了。注意 Carthage 只支持动态库，动态库只在 iOS 8 及以上才支持（任意版本的 OS X 都支持动态库）。</p>
<h3 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h3><p>针对 iOS, tvOS 或者 watchOS 的使用方法：</p>
<ol>
<li>创建一个 <code>Cartfile</code> 并列出你想使用的第三方库；</li>
<li>使用 <code>carthage update</code> 命令，Carthage 就会把第三方框架更新到 Carthage/Checkouts 文件夹中，然后挨个编译；</li>
<li>在你的工程文件的 “General” 选项卡中，把你的框架从 Carthage/Build 文件夹拖到 “Linked Frameworks and Libraries” 区域内；</li>
<li>在你的工程文件 “Build Phases” 选项卡中，点 “+” 然后选择  “New Run Script Phase” 创建一个新的运行脚本来声明你的 shell（比如：bin/sh），把下面的内容粘贴到 shell 中：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/bin/carthage copy-frameworks</span><br></pre></td></tr></table></figure>

<p>然后在 “Input Files” 中添加你要使用的框架的路径，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(SRCROOT)/Carthage/Build/iOS/Box.framework</span><br><span class="line">$(SRCROOT)/Carthage/Build/iOS/Result.framework</span><br><span class="line">$(SRCROOT)/Carthage/Build/iOS/ReactiveCocoa.framework</span><br></pre></td></tr></table></figure>

<p>当这些调试信息被复制到产品目录中， 无论你的应用停在哪个断点，Xcode 都能够 symbolicate 你的堆栈信息。这也能够让你用第三方的调试工具进行调试。</p>
<p>无论你的应用提交到 AppStore 还是打包测试，Xcode 都会复制这些文件到你应用的 <code>.xcarchive</code> 沙盒中 dSYMs 文件夹的子目录中。</p>
<h2 id="升级第三方框架"><a href="#升级第三方框架" class="headerlink" title="升级第三方框架"></a>升级第三方框架</h2><p>如果你修改了 Cartfile 文件，或者你想使用第三方框架的最新版，只要再运行一次 <code>carthage update</code> 就行了。</p>
<p>如果你只是想更新某一个或者某几个，只要用空格隔开就行了，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">carthage update Box</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">carthage update Box Result</span><br></pre></td></tr></table></figure>

<h2 id="Cartfile"><a href="#Cartfile" class="headerlink" title="Cartfile"></a>Cartfile</h2><p>Cartfile 是用来描述第三方框架的，它严格遵守  Ordered Graph Data Language 的语法，任何标准的 OGDL 工具都能解析它。</p>
<p>第三方框架声明分为两部分：基础部分和版本需求部分。</p>
<h3 id="基础部分"><a href="#基础部分" class="headerlink" title="基础部分"></a>基础部分</h3><p>如果使用 GigHub 的仓库（GitHub.com 或者 GitHub Enterprise），使用时必须加入 <code>github</code> 关键字，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">github &quot;ReactiveCocoa/ReactiveCocoa&quot; # GitHub.com</span><br><span class="line">github &quot;https://enterprise.local/ghe/desktop/git-error-translations&quot; # GitHub Enterprise</span><br></pre></td></tr></table></figure>

<p>其他 git 仓库要加 <code>git</code> 关键字，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git &quot;https://enterprise.local/desktop/git-error-translations2.git&quot;</span><br></pre></td></tr></table></figure>

<h3 id="版本需求"><a href="#版本需求" class="headerlink" title="版本需求"></a>版本需求</h3><p>Carthage 支持以下几种版本声明：</p>
<ol>
<li><code>&gt;= 1.0</code> 大于等于版本 1.0</li>
<li><code>~&gt; 1.0</code> 兼容版本 1.0</li>
<li><code>== 1.0</code> 必须是版本 1.0 </li>
<li><code>some-branch-or-tag-or-commit</code> 针对一个明确的 Git 项目</li>
</ol>
<p>如果没有版本声明，就代表任何版本都可以使用。</p>
<p>兼容性是根据语义化版本规范确定的，任何大于或者等于版本 1.5.1 小于版本 2.0 的，都被认定 兼容于 1.5.1。</p>
<p>但是根据语义化版本规范，任何 0.x.y 的版本都会在运行中崩溃，所以0.x 的版本没有遵守语义化版本规范，如果你定义了 0.1.1 的版本，那么 兼容的版本就是 0.1.2，而不是 0.2。</p>
<h3 id="Cartfile-示例"><a href="#Cartfile-示例" class="headerlink" title="Cartfile 示例"></a>Cartfile 示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># Require version 2.3.1 or later</span><br><span class="line">github &quot;ReactiveCocoa/ReactiveCocoa&quot; &gt;= 2.3.1</span><br><span class="line"></span><br><span class="line"># Require version 1.x</span><br><span class="line">github &quot;Mantle/Mantle&quot; ~&gt; 1.0    # (1.0 or later, but less than 2.0)</span><br><span class="line"></span><br><span class="line"># Require exactly version 0.4.1</span><br><span class="line">github &quot;jspahrsummers/libextobjc&quot; == 0.4.1</span><br><span class="line"></span><br><span class="line"># Use the latest version</span><br><span class="line">github &quot;jspahrsummers/xcconfigs&quot;</span><br><span class="line"></span><br><span class="line"># Use the branch</span><br><span class="line">github &quot;jspahrsummers/xcconfigs&quot; &quot;branch&quot;</span><br><span class="line"></span><br><span class="line"># Use a project from GitHub Enterprise</span><br><span class="line">github &quot;https://enterprise.local/ghe/desktop/git-error-translations&quot;</span><br><span class="line"></span><br><span class="line"># Use a project from any arbitrary server, on the &quot;development&quot; branch</span><br><span class="line">git &quot;https://enterprise.local/desktop/git-error-translations2.git&quot; &quot;development&quot;</span><br><span class="line"></span><br><span class="line"># Use a local project</span><br><span class="line">git &quot;file:///directory/to/project&quot; &quot;branch&quot;</span><br></pre></td></tr></table></figure>
  </section>

</article>
<section class="read-more">
           
    
               
            <div class="read-more-item">
                <span class="read-more-item-dim">最近的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/2016/12/21/正则表达式/" title="正则表达式">正则表达式</a></h2>
                <p class="excerpt">
                
                以下是对正则表达式学习的一些整理。
头部尾部^ 表示开始 后接字符串 ^one
$ 表示结束 前接字符串 dog$
“banana” 必须包含此字符串
限制个数* 0个或更多个  ab*   (a,ab,abbb…)
+ 1个或更多个  ab+   (ab, abbb…)
? 0个或1个     ab?    (a, ab)
{4} 4个       ab{4}  (abbbb)
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2016-12-21T15:18:35.000Z" class="post-list__meta--date date">2016-12-21</time> &#8226; <span class="post-list__meta--tags tags">于&nbsp;
  <a class="tag-link" href="/tags/NSPredicate/">NSPredicate</a>, <a class="tag-link" href="/tags/iOS/">iOS</a>, <a class="tag-link" href="/tags/正则表达式/">正则表达式</a>
</span><a class="btn-border-small" href="/2016/12/21/正则表达式/">继续阅读</a></div>
                           
            </div>
        
        
               
            <div class="read-more-item">
                <span class="read-more-item-dim">更早的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/2016/11/10/AsyncDisplayKit的布局/" title="【iOS】AsyncDisplayKit的布局">【iOS】AsyncDisplayKit的布局</a></h2>
                <p class="excerpt">
                
                AsyncDisplayKit布局的优势UIKit由于复杂的层级结构变得越来越expensive，而AsyncDisplayKit的 Layout API 作为一个新的选择，具有以下的优势。

快速：与手动布局代码一样快，比自动布局快了很多；
异步和同步：布局可以在子线程中进行，避免打断用户的操作；
声明：布局声明使用的是不可变的数据结构。这样使布局代码可以更容易开发，注释，预览，调试，介绍和维护；
缓存管理：布局的结果是不可变的数据结构，所以可以在后台进行计算和缓存，改善用户的体验；
可扩展性：很容易在类共享代码。

                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2016-11-10T14:36:21.000Z" class="post-list__meta--date date">2016-11-10</time> &#8226; <span class="post-list__meta--tags tags">于&nbsp;
  <a class="tag-link" href="/tags/ASDK/">ASDK</a>, <a class="tag-link" href="/tags/ASDK布局/">ASDK布局</a>, <a class="tag-link" href="/tags/AsyncDisplayKit/">AsyncDisplayKit</a>
</span><a class="btn-border-small" href="/2016/11/10/AsyncDisplayKit的布局/">继续阅读</a></div>
                       
            </div>
        
     
   
   
  
</section>

            
<section class="post-comments">
  <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="http://anye3210.github.io/2016/11/23/Carthage的使用/" data-title="Carthage的使用" data-url="http://anye3210.github.io/2016/11/23/Carthage的使用/"></div>
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:"Zephyr&#39;s Capsule"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
</section>


            <footer class="footer">
	<span class="footer__copyright">
	        <div style="width:200px;margin:0 auto; padding:0px;">
               <p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">©2019 Zephyr</p>
            </div>
    </span>
    <span class="footer__copyright">
        <div style="width:300px;margin:0 auto; padding:20px 0;">
                <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=50010802002929" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="/images/beian.png" style="float:left;"/><p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">渝公网安备 50010802002929号</p></a>
            </div>
    </span>
</footer>
        </div>
    </div>

    

     
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-87098157-1', 'auto');
	ga('send', 'pageview');
</script>

    


    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
    
    </script>
    
</body>
</html>
